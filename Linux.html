<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kirk Radio Linux OS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: monospace;
            background-color: #000;
            color: #0f0;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
        }

        #sidebar {
            width: 200px;
            background-color: #333;
            padding: 20px;
        }

        #main-content {
            flex-grow: 1;
            padding: 20px;
            overflow: auto;
        }

        .app-icon {
            cursor: pointer;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #444;
        }

        .app-icon:hover {
            background-color: #555;
        }

        #terminal {
            background-color: #000;
            color: #0f0;
            padding: 10px;
            height: 400px;
            overflow-y: scroll;
        }

        #command-input {
            width: 100%;
            background-color: #000;
            color: #0f0;
            border: none;
            outline: none;
        }
    </style>
</head>
<body>
    <div id="sidebar">
        <h2>Kirk Linux</h2>
        <div class="app-icon" onclick="openTerminal()">Terminal</div>
        <div class="app-icon" onclick="openPackageManager()">Package Manager</div>
    </div>

    <div id="main-content">
        <div id="output"></div>
    </div>

    <script>
        // Simplified Linux Simulation
        class LinuxSystem {
            constructor() {
                this.fileSystem = {
                    '/': ['home', 'etc', 'var'],
                    '/home': ['user', 'documents'],
                    '/etc': ['config']
                };

                this.packages = {
                    'core': [
                        { name: 'kernel', version: '5.4.0', description: 'Linux Kernel' },
                        { name: 'bash', version: '5.1', description: 'Bourne Again Shell' }
                    ],
                    'multimedia': [
                        { name: 'vlc', version: '3.0.16', description: 'Media Player' },
                        { name: 'ffmpeg', version: '4.4', description: 'Multimedia Framework' }
                    ]
                };

                this.installedPackages = [];
            }

            // Package Management Methods
            listPackages() {
                return Object.values(this.packages).flat();
            }

            installPackage(name) {
                const package = this.listPackages().find(p => p.name === name);
                
                if (!package) {
                    return `Error: Package ${name} not found`;
                }

                if (this.installedPackages.some(p => p.name === name)) {
                    return `${name} is already installed`;
                }

                this.installedPackages.push(package);
                return `Installed ${name} version ${package.version}`;
            }

            removePackage(name) {
                const index = this.installedPackages.findIndex(p => p.name === name);
                
                if (index === -1) {
                    return `Error: ${name} is not installed`;
                }

                this.installedPackages.splice(index, 1);
                return `Removed ${name}`;
            }

            // Command Processing
            processCommand(command) {
                const [cmd, arg] = command.split(' ');

                switch(cmd) {
                    case 'ls':
                        return JSON.stringify(this.fileSystem['/']);
                    case 'install':
                        return this.installPackage(arg);
                    case 'remove':
                        return this.removePackage(arg);
                    case 'packages':
                        return JSON.stringify(this.listPackages());
                    case 'help':
                        return `
Available Commands:
- ls: List root directory
- install [package]: Install a package
- remove [package]: Remove a package
- packages: List available packages
- help: Show this help
                        `;
                    default:
                        return `Unknown command: ${command}`;
                }
            }
        }

        // Global Linux System Instance
        const linuxSystem = new LinuxSystem();

        // UI Interaction Functions
        function openTerminal() {
            const output = document.getElementById('output');
            output.innerHTML = `
                <div id="terminal">
                    Welcome to Kirk Radio Linux Terminal
                    Type 'help' for available commands
                </div>
                <input type="text" id="command-input" placeholder="Enter command">
            `;

            const commandInput = document.getElementById('command-input');
            const terminal = document.getElementById('terminal');

            commandInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const command = commandInput.value;
                    const result = linuxSystem.processCommand(command);
                    
                    terminal.innerHTML += `
<div>$ ${command}</div>
<div>${result}</div>
                    `;

                    commandInput.value = '';
                    terminal.scrollTop = terminal.scrollHeight;
                }
            });
        }

        function openPackageManager() {
            const output = document.getElementById('output');
            const packages = linuxSystem.listPackages();
            
            output.innerHTML = `
                <h2>Package Manager</h2>
                <pre>${JSON.stringify(packages, null, 2)}</pre>
            `;
        }
    </script>
</body>
</html>
